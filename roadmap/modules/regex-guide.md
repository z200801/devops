# Регулярні вирази та обробка тексту

## Основи регулярних виразів

### Базові патерни
```regex
.       # Будь-який символ
^       # Початок рядка
$       # Кінець рядка
[]      # Набір символів
[^]     # Заперечення набору
()      # Група
|       # АБО
```

### Квантифікатори
```regex
*       # 0 або більше
+       # 1 або більше
?       # 0 або 1
{n}     # Рівно n разів
{n,}    # n або більше разів
{n,m}   # Від n до m разів
```

### Спеціальні символи
```regex
\d      # Цифра [0-9]
\D      # Не цифра [^0-9]
\w      # Словесний символ [a-zA-Z0-9_]
\W      # Не словесний символ
\s      # Пробільний символ
\S      # Не пробільний символ
```

## grep

### Базове використання
```bash
# Пошук рядка
grep "pattern" file.txt

# Рекурсивний пошук
grep -r "pattern" /path/to/dir

# Ігнорування регістру
grep -i "pattern" file.txt

# Інвертування пошуку
grep -v "pattern" file.txt

# Показ контексту
grep -A 2 -B 2 "pattern" file.txt  # 2 рядки до і після
```

### Розширені регулярні вирази (ERE)
```bash
# Використання ERE
grep -E "pattern1|pattern2" file.txt
egrep "pattern1|pattern2" file.txt

# Приклади патернів
grep -E "\d{3}-\d{2}-\d{4}"  # SSN формат
grep -E "[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}" # Email
```

## sed

### Базові команди
```bash
# Заміна першого входження
sed 's/old/new/' file.txt

# Заміна всіх входжень
sed 's/old/new/g' file.txt

# Заміна в конкретних рядках
sed '1,5s/old/new/g' file.txt

# Видалення рядків
sed '/pattern/d' file.txt

# Додавання тексту
sed '/pattern/a\New line' file.txt  # після
sed '/pattern/i\New line' file.txt  # перед
```

### Розширені можливості
```bash
# Використання груп
sed 's/\(pattern1\)\(pattern2\)/\2\1/' file.txt

# Умовні заміни
sed '/pattern/!s/old/new/g' file.txt

# Множинні команди
sed -e 's/old1/new1/g' -e 's/old2/new2/g' file.txt
```

## POSIX vs GNU

### POSIX регулярні вирази
```bash
# Basic Regular Expressions (BRE)
[[:alnum:]]  # Алфавітно-цифрові символи
[[:alpha:]]  # Алфавітні символи
[[:digit:]]  # Цифри
[[:lower:]]  # Нижній регістр
[[:upper:]]  # Верхній регістр
[[:space:]]  # Пробільні символи

# Extended Regular Expressions (ERE)
grep -E "pattern+" file.txt    # Один або більше
grep -E "pattern?" file.txt    # Нуль або один
```

### GNU розширення
```bash
# GNU grep розширення
grep -P "\d{3}"  # Perl-сумісні регулярні вирази

# GNU sed розширення
sed -r 's/pattern+/replacement/g'  # Розширений синтаксис
```

## Практичні завдання

### 1. Базова обробка тексту
- Пошук email адрес
- Валідація форматів дат
- Обробка логів

### 2. Складні патерни
- Парсинг HTML/XML
- Обробка JSON
- Аналіз логів

### 3. Скрипти обробки
- Автоматизація обробки файлів
- Пакетна заміна
- Форматування даних

### 4. Best Practices
- Оптимізація патернів
- Обробка великих файлів
- Багатомовна підтримка